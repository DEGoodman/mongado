/**
 * AISuggestionsPanel Component Styles
 * Sliding panel with AI-generated tag and link suggestions
 * Matches production Tailwind design
 */

@use '@/styles/design-tokens' as *;
@use '@/styles/mixins' as *;

// Backdrop overlay for mobile/tablet
.backdrop {
  @include modal-base;
  z-index: 40;

  // Hide on large screens (panel is static sidebar)
  @media (min-width: 1024px) {
    display: none;
  }
}

// Main panel container
.panel {
  position: fixed;
  bottom: 0;
  right: 0;
  top: 0;
  z-index: 50;
  width: 100%;
  overflow-y: auto;
  background-color: $white;
  box-shadow: $shadow-popover;

  // Tablet: max width
  @media (min-width: 640px) {
    max-width: 28rem; // 448px
  }

  // Desktop: static sidebar (no fixed positioning)
  @media (min-width: 1024px) {
    position: static;
    z-index: auto;
    max-width: none;
    box-shadow: none;
  }
}

.panelContent {
  padding: $spacing-6;
  border: $border-default;
  border-radius: $border-radius-md;
  background-color: $white;
  box-shadow: $shadow-card-sm;

  // No shadow on large screens (integrated sidebar)
  @media (min-width: 1024px) {
    box-shadow: none;
  }
}

// ===== HEADER =====
.header {
  @include flex-between;
  margin-bottom: $spacing-6;
  align-items: flex-start;
}

.headerLeft {
  // Title and mode indicator
}

.title {
  font-size: $font-size-lg;
  font-weight: $font-weight-semibold;
  color: $neutral-900;
}

.modeIndicator {
  @include flex-start;
  gap: $spacing-2;
  margin-top: $spacing-1;
}

.autoIndicatorDot {
  width: 0.5rem;
  height: 0.5rem;
  border-radius: $border-radius-full;
  background-color: $green-500;
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.autoIndicatorLabel {
  @include text-tertiary;
  color: $green-700;
}

.headerActions {
  @include flex-start;
  gap: $spacing-2;
}

// Refresh button
.refreshButton {
  @include flex-start;
  gap: $spacing-2;
  padding: $spacing-2 $spacing-3;
  border: $border-width-thin solid $neutral-300;
  border-radius: $border-radius-md;
  @include text-tertiary;
  font-weight: $font-weight-medium;
  color: $neutral-700;
  background-color: $white;
  @include transition-colors;

  &:hover {
    background-color: $neutral-50;
  }

  .refreshIcon {
    // Emoji, no styling needed
  }

  .refreshLabel {
    display: none;

    @media (min-width: 640px) {
      display: inline;
    }
  }
}

// Close button (mobile/tablet only)
.closeButton {
  padding: $spacing-2;
  border-radius: $border-radius-md;
  color: $neutral-400;
  @include transition-colors;

  &:hover {
    background-color: $neutral-100;
    color: $neutral-600;
  }

  @media (min-width: 1024px) {
    display: none;
  }

  .closeIcon {
    width: 1.25rem;
    height: 1.25rem;
  }
}

// ===== STATES =====
// Loading state
.loadingContainer {
  @include stack($spacing-4);
}

.loadingBanner {
  padding: $spacing-4;
  border-radius: $border-radius-md;
  background-color: $blue-50;
}

.loadingContent {
  @include flex-start;
  gap: $spacing-3;
}

.spinner {
  width: 1.25rem;
  height: 1.25rem;
  border: 2px solid $blue-600;
  border-top-color: transparent;
  border-radius: $border-radius-full;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.loadingText {
  @include text-secondary;
  color: $blue-900;
}

// Skeleton loading UI
.skeletonContainer {
  @include stack($spacing-4);
}

.skeletonSection {
  // Section wrapper
}

.skeletonHeader {
  width: 8rem;
  height: 1rem;
  margin-bottom: $spacing-3;
  border-radius: $border-radius-sm;
  background-color: $neutral-200;
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.skeletonCards {
  @include stack($spacing-2);
}

.skeletonCard {
  padding: $spacing-4;
  border: $border-width-thin solid $neutral-200;
  border-radius: $border-radius-md;
  background-color: $neutral-50;
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.skeletonTitle {
  width: 75%;
  height: 1rem;
  margin-bottom: $spacing-2;
  border-radius: $border-radius-sm;
  background-color: $neutral-200;
}

.skeletonDescription {
  width: 100%;
  height: 0.75rem;
  border-radius: $border-radius-sm;
  background-color: $neutral-200;
}

// Error state
.errorBanner {
  margin-bottom: $spacing-6;
  padding: $spacing-4;
  border: $border-width-thin solid $red-200;
  border-radius: $border-radius-md;
  @include text-secondary;
  background-color: $red-50;
  color: $red-600;
}

// Empty state
.emptyState {
  @include text-secondary;
  line-height: 1.6;
  color: $neutral-500;
}

// Outdated warning
.outdatedBanner {
  margin-bottom: $spacing-4;
  padding: $spacing-3;
  border: $border-width-thin solid $yellow-200;
  border-radius: $border-radius-md;
  @include text-secondary;
  background-color: $yellow-50;
  color: $neutral-900;
}

// ===== SUGGESTIONS =====
.suggestionsSection {
  margin-bottom: $spacing-6;

  &:last-child {
    margin-bottom: 0;
  }
}

.sectionTitle {
  margin-bottom: $spacing-3;
  @include text-secondary;
  font-weight: $font-weight-semibold;
  color: $neutral-700;
}

.suggestionsList {
  @include stack($spacing-3);
}

// Suggestion card
.suggestionCard {
  padding: $spacing-4;
  border: $border-width-thin solid $neutral-200;
  border-radius: $border-radius-md;
  background-color: $neutral-50;
  @include transition-default;

  &:hover {
    border-color: $blue-300;
    background-color: $blue-50;
  }
}

.suggestionHeader {
  @include flex-between;
  gap: $spacing-3;
  margin-bottom: $spacing-2;
  align-items: flex-start;
}

.suggestionTitle {
  font-weight: $font-weight-medium;
  color: $neutral-900;
}

.suggestionMeta {
  min-width: 0;
  flex: 1;
}

.suggestionSubtitle {
  margin-bottom: $spacing-1;
  font-weight: $font-weight-medium;
  color: $neutral-900;
}

.suggestionNoteId {
  @include text-tertiary;
  color: $neutral-500;
  font-family: monospace;
}

.suggestionAction {
  flex-shrink: 0;
  padding: $spacing-2 $spacing-3;
  border-radius: $border-radius-sm;
  @include text-tertiary;
  font-weight: $font-weight-medium;
  background-color: $blue-600;
  color: $white;
  @include transition-default;

  &:hover {
    background-color: $blue-700;
  }
}

.suggestionReason {
  @include text-tertiary;
  line-height: 1.6;
  color: $neutral-600;
}
